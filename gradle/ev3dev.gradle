task stopBluetooth << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl stop bluetooth")
        }
    }
}

task restartBluetooth << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl restart bluetooth")
        }
    }
}

task stopNtp << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl stop ntp")
        }
    }
}

task restartNtp << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl restart ntp")
        }
    }
}


task stopNmbd << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl stop nmbd")
        }
    }
}

task restartNmbd << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl restart nmbd")
        }
    }
}


task stopBrickman << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl stop brickman")
        }
    }
}

task restartBrickman << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo systemctl restart brickman")
        }
    }
}

task getDebianDistro << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "cat /etc/os-release")
        }
    }
}


task free {
    doLast {
        ssh.run {
            session(remotes.ev3dev) {
                sshPrint(delegate, "free")
            }
        }
    }
}

task ps {
    doLast {
        ssh.run {
            session(remotes.ev3dev) {
                sshPrint(delegate, "ps aux | sort -n -k 4 ")
            }
        }
    }
}

task shutdown << {
    ssh.run {
        session(remotes.ev3dev) {
            sshPrint(delegate, "echo -e \"${project.brickPassword}\" | sudo -S sudo shutdown -h now")
        }
    }
}

task ev3devInfo {
    doLast {
        ssh.run {
            session(remotes.ev3dev) {
                sshPrint(delegate, "ev3dev-sysinfo -m")
            }
        }
    }
}

//Organize tasks in a Group
def groupName = "ev3dev"
stopBluetooth.group = groupName
restartBluetooth.group = groupName
stopNtp.group = groupName
restartNtp.group = groupName
stopNmbd.group = groupName
restartNmbd.group = groupName
stopBrickman.group = groupName
restartBrickman.group = groupName
getDebianDistro.group = groupName
free.group = groupName
ps.group = groupName
shutdown.group = groupName
ev3devInfo.group = groupName
